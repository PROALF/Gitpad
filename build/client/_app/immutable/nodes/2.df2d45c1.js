import{S as f,i as u,s as g,a as p,o as _,p as h,f as d,g as w,q as M,j as v,r as $,u as S,v as A,w as C}from"../chunks/index.98ebe618.js";import{P as m,g as E,e as P,E as y}from"../chunks/public.865a5e26.js";import{b as R}from"../chunks/singletons.db0d2646.js";import{C as b,f as c,p as I}from"../chunks/pendingMessage.76d0664e.js";import{p as j}from"../chunks/LocalDB.a5da0a64.js";function q(t){let o,i,a,r;return document.title=o=m,a=new b({props:{loading:t[1],currentModel:c([...t[0].models,...t[0].oldModels],t[0].settings.activeModel),models:t[0].models,settings:t[0].settings}}),a.$on("message",t[3]),{c(){i=p(),_(a.$$.fragment)},l(e){h("svelte-13f777u",document.head).forEach(d),i=w(e),M(a.$$.fragment,e)},m(e,s){v(e,i,s),$(a,e,s),r=!0},p(e,[s]){(!r||s&0)&&o!==(o=m)&&(document.title=o);const n={};s&2&&(n.loading=e[1]),s&1&&(n.currentModel=c([...e[0].models,...e[0].oldModels],e[0].settings.activeModel)),s&1&&(n.models=e[0].models),s&1&&(n.settings=e[0].settings),a.$set(n)},i(e){r||(S(a.$$.fragment,e),r=!0)},o(e){A(a.$$.fragment,e),r=!1},d(e){e&&d(i),C(a,e)}}}function U(t){return t.toString(16).padStart(2,"0")}function B(t){var o=new Uint8Array((t||40)/2);return window.crypto.getRandomValues(o),Array.from(o,U).join("")}function G(t,o,i){let{data:a}=o,r=!1;async function e(n){try{i(1,r=!0);const l=B(16);I.set(n),console.log(l),j.set(l),await E(`${R}/conversation/${l}`,{invalidateAll:!0})}catch(l){P.set(y.default),console.error(l)}finally{i(1,r=!1)}}const s=n=>e(n.detail);return t.$$set=n=>{"data"in n&&i(0,a=n.data)},[a,r,e,s]}class k extends f{constructor(o){super(),u(this,o,G,q,g,{data:0})}}export{k as component};
